window.onload=function(){document.getElementById("calculateit").addEventListener("click",function(){calculateIt()}),document.getElementById("resetit").addEventListener("click",function(){resetValues()}),$(".js-monster-data-array").select2({data:monsterlist})};var calculateIt=function(){var level=document.getElementById("level"),accuracy=document.getElementById("accuracy"),monstername=monsterlist[monster.value].text,monsteravoid=eval(monsterlist[monster.value].avoid),monsterlevel=eval(monsterlist[monster.value].level),hitrateout=document.getElementById("hitrateout"),maxout=document.getElementById("maxout"),minout=document.getElementById("minout");if(accuracy.value)if(level.value){var d=eval(monsterlevel)-eval(level.value);0>d&&(d=0);var outcome=eval(accuracy.value)/((1.84+.07*d)*monsteravoid)-1;outcome=Math.round(100*outcome);var outcomemin=0,outcomemax=0;outcome>100?outcome=100:0>outcome?outcome=0:isNaN(outcome)&&(outcome=0),hitrateout.value=outcome;for(var i=1;100>outcomemin;i++){outcomemin=i/((1.84+.07*d)*monsteravoid)-1,outcomemin=Math.round(100*outcomemin);var accmin=i}for(var i=1;1>outcomemax;i++){outcomemax=i/((1.84+.07*d)*monsteravoid)-1,outcomemax=Math.round(100*outcomemax);var accmax=i}maxout.value=accmin,minout.value=accmax,result.innerHTML="<b>"+monstername+"</b> is a level <b>"+monsterlevel+"</b> monster, and has a total of <b>"+monsteravoid+"</b> avoidabillity."}else level.style.background="#FCC";else accuracy.style.background="#FCC"},resetValues=function(){level.value=0,level.style.background="#EEE",accuracy.value=0,accuracy.style.background="#EEE",hitrateout.value=0,maxout.value=0,minout.value=0,result.innerHTML="---"};