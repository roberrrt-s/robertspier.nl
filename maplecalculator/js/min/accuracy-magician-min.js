window.onload=function(){document.getElementById("calculateit").addEventListener("click",function(){calculateIt()}),document.getElementById("resetit").addEventListener("click",function(){resetValues()}),$(".js-monster-data-array").select2({data:monsterlist})};var calculateIt=function(){var yourlevel=document.getElementById("yourlevel"),totalint=document.getElementById("totalint"),totalluk=document.getElementById("totalluk"),monstername=monsterlist[monster.value].text,monsteravoid=eval(monsterlist[monster.value].avoid),monsterlevel=eval(monsterlist[monster.value].level),currentout=document.getElementById("currentout"),maxout=document.getElementById("maxout"),minout=document.getElementById("minout"),hitrateout=document.getElementById("hitrateout");if(yourlevel.value)if(totalint.value)if(totalluk.value){var d=monsterlevel-yourlevel.value;console.log(d),0>d&&(d=0),console.log(d),totalint=eval(totalint.value),totalluk=eval(totalluk.value);var current=Math.floor(totalint/10)+Math.floor(totalluk/10),max=Math.floor((monsteravoid+1)*(1+.04*d)),min=Math.floor(.41*max),hitrate=-.7011618132*Math.pow((current-min+1)/(max-min+1),2)+1.702139835*((current-min+1)/(max-min+1));hitrate=Math.round(100*hitrate),min>current?hitrate=0:current>=max&&(hitrate=100),console.log(current),console.log(max),console.log(min),result.innerHTML="<b>"+monstername+"</b> is a level <b>"+monsterlevel+"</b> monster, and has a total of <b>"+monsteravoid+"</b> avoidabillity.",currentout.value=current,maxout.value=max,minout.value=min,hitrateout.value=hitrate}else totalluk.style.background="#FCC";else totalint.style.background="#FCC";else yourlevel.style.background="#FCC"},resetValues=function(){yourlevel.value=0,yourlevel.style.background="#EEE",totalint.value=0,totalint.style.background="#EEE",totalluk.value=0,totalluk.style.background="#EEE",result.innerHTML="---",currentout.value=0,maxout.value=0,minout.value=0,hitrateout.value=0};