window.onload=function(){document.getElementById("calculateit").addEventListener("click",function(){calculateIt()}),document.getElementById("resetit").addEventListener("click",function(){resetValues()}),$(".js-monster-data-array").select2({data:monsterlist})};var calculateIt=function(){var totalmagic=document.getElementById("totalmagic"),totalint=document.getElementById("totalint"),skillattack=document.getElementById("skillattack"),skillmastery=document.getElementById("skillmastery"),elementamp=document.getElementById("elementamp"),elemwandbonus=document.getElementById("elemwandbonus"),monstername=monsterlist[monster.value].text,monstermdef=eval(monsterlist[monster.value].mdef),monsterlevel=eval(monsterlist[monster.value].level),avgdmgnormal=document.getElementById("avgdmgnormal"),mindmgnormal=document.getElementById("mindmgnormal"),maxdmgnormal=document.getElementById("maxdmgnormal"),avgdmgweak=document.getElementById("avgdmgweak"),mindmgweak=document.getElementById("mindmgweak"),maxdmgweak=document.getElementById("maxdmgweak"),avgdmgstrong=document.getElementById("avgdmgstrong"),mindmgstrong=document.getElementById("mindmgstrong"),maxdmgstrong=document.getElementById("maxdmgstrong");if(totalmagic.value)if(totalint.value)if(skillattack.value){var d=monsterlevel-yourlevel.value;0>d&&(d=0);var result1=totalmagic.value*totalmagic.value/1e3;result1+=eval(totalmagic.value),result1/=30;var result2=totalint.value/200,maxresult=eval(result1)+eval(result2),result3=totalmagic.value*totalmagic.value/1e3,result4=totalmagic.value*skillmastery.value*.9;result3+=result4,result4=result3/30;var result5=totalint.value/200,minresult=eval(result4)+eval(result5);maxdmgnormal.value=Math.floor(parseInt(maxresult*skillattack.value*elementamp.value*elemwandbonus.value-.5*monstermdef*(1+.01*d))),maxdmgweak.value=Math.floor(maxdmgnormal.value/2),maxdmgstrong.value=Math.floor(1.5*maxdmgnormal.value),mindmgnormal.value=Math.floor(parseInt(minresult*skillattack.value*elementamp.value*elemwandbonus.value-.6*monstermdef*(1+.01*d))),mindmgweak.value=Math.floor(mindmgnormal.value/2),mindmgstrong.value=Math.floor(1.5*mindmgnormal.value);var result6=Math.floor(parseInt((eval(maxdmgnormal.value)+eval(mindmgnormal.value))/2));avgdmgnormal.value=result6;var result7=Math.floor(avgdmgnormal.value/2);avgdmgweak.value=result7;var result8=Math.floor(1.5*avgdmgnormal.value);avgdmgstrong.value=result8;for(var round=[maxdmgnormal.value,maxdmgweak.value,maxdmgstrong.value,mindmgnormal.value,mindmgweak.value,mindmgstrong.value,avgdmgnormal.value,avgdmgweak.value,avgdmgstrong.value],i=0;9>i;i++)round[i]>99999&&(round[i]=99999);for(var i=0;10>i;i++)round[i]<1&&(round[i]=1);maxdmgnormal.value=round[0],maxdmgweak.value=round[1],maxdmgstrong.value=round[2],mindmgnormal.value=round[3],mindmgweak.value=round[4],mindmgstrong.value=round[5],avgdmgnormal.value=round[6],avgdmgweak.value=round[7],avgdmgstrong.value=round[8],result.innerHTML="<b>"+monstername+"</b> is a level <b>"+monsterlevel+"</b> monster, and has a total of <b>"+monstermdef+"</b> magical defense (mdef)."}else skillattack.style.background="#FCC";else totalint.style.background="#FCC";else totalmagic.style.background="#FCC"},resetValues=function(){totalmagic.value=0,totalmagic.style.background="#EEE",totalint.value=0,totalint.style.background="#EEE",skillattack.value=0,skillattack.style.background="#EEE",skillmastery.value=.6,elementamp.value=1,elemwandbonus.value=1,maxdmgnormal.value=0,maxdmgweak.value=0,maxdmgstrong.value=0,mindmgnormal.value=0,mindmgweak.value=0,mindmgstrong.value=0,avgdmgnormal.value=0,avgdmgweak.value=0,avgdmgstrong.value=0,result.innerHTML="---"};