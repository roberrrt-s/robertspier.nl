{"version":3,"sources":["scripts/blocks/TableElement.js","scripts/screens/Data.js","scripts/partials/Main.js","scripts/partials/Menu.js","scripts/App.js","index.js"],"names":["TableElement","imgPrefix","imdbPrefix","state","columns","Header","accessor","show","sortable","width","filterable","Cell","content","value","key","src","row","title","href","original","imdb_id","filterMethod","filter","toLowerCase","indexOf","data","map","el","i","push","length","genre_names","toString","animal","id","Filter","onChange","event","target","style","filters","document","querySelectorAll","placeholder","this","addFilterPlaceholder","n","cols","col","setState","buttons","htmlFor","type","defaultChecked","toggleColumn","Fragment","className","showPagination","props","SubComponent","overview","defaultSorting","desc","Component","Data","Main","exact","path","render","Menu","App","flatten","arr","result","Array","isArray","set","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.d02d45bd.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport LazyLoad from 'react-lazy-load';\nimport ReactTable from \"react-table\";\nimport \"react-table/react-table.css\";\n\nclass TableElement extends Component {\n\tconstructor() {\n\t\tsuper()\n\n\t\tthis.imgPrefix = 'https://image.tmdb.org/t/p/w185/';\n\t\tthis.imdbPrefix = 'https://www.imdb.com/title/';\n\n\t\tthis.state = {\n\t\t\tcolumns: [{\n\t\t\t\tHeader: 'Image',\n\t\t\t\taccessor: 'poster_path',\n\t\t\t\tshow: true,\n\t\t\t\tsortable: false,\n\t\t\t\twidth: 150,\n\t\t\t\tfilterable: false,\n\t\t\t\tCell: content => {\n\t\t\t\t\tif(content.value) {\n\t\t\t\t\t\treturn <LazyLoad key={content.value}><img src={`${this.imgPrefix}${content.value}`}/></LazyLoad>\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn <LazyLoad key={content.value}><img src={\"https://via.placeholder.com/100\"}/></LazyLoad>\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Title',\n\t\t\t\taccessor: 'title',\n\t\t\t\tshow: true,\n\t\t\t\tCell: content => {\n\t\t\t\t\tif(content.row.title) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<a href={`${this.imdbPrefix}${content.original.imdb_id}`}>{content.row.title}</a>\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 'no title';\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfilterMethod: (filter, row) => {\n\t\t\t\t\treturn row.title && row.title.toLowerCase().indexOf(filter.value.toLowerCase()) >=0;\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Rating',\n\t\t\t\taccessor: 'vote_average',\n\t\t\t\tshow: true,\n\t\t\t\twidth: 75,\n\t\t\t\tfilterable: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Genres',\n\t\t\t\taccessor: 'genre_names',\n\t\t\t\tshow: true,\n\t\t\t\tCell: content => {\n\t\t\t\t\tlet data = []\n\t\t\t\t\tcontent.value && content.value.map((el, i) => {\n\t\t\t\t\t\tdata.push(<span key={i}>{el}</span>)\n\t\t\t\t\t});\n\t\t\t\t\treturn data.length && data || 'No genre';\n\t\t\t\t},\n\t\t\t\tfilterMethod: (filter, row) => {\n\t\t\t\t\treturn row.genre_names && row.genre_names.toString().toLowerCase().indexOf(filter.value.toLowerCase()) >=0;\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Release date',\n\t\t\t\taccessor: 'release_date',\n\t\t\t\tshow: true,\n\t\t\t\tCell: content => {\n\t\t\t\t\treturn content.value && content.value || 'No release date';\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Main animal',\n\t\t\t\taccessor: 'animal',\n\t\t\t\tshow: true,\n\t\t\t\tCell: content => {\n\t\t\t\t\tlet data = []\n\t\t\t\t\tcontent.original.animal && content.original.animal.map((el, i) => {\n\t\t\t\t\t\tdata.push(<span key={i}>{el}</span>)\n\t\t\t\t\t});\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\t\t\t\tfilterMethod: (filter, row) => {\n\t\t\t\t\tif (filter.value === \"all\") {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (filter.value.indexOf(\"dog\") !== -1) {\n\t\t\t\t\t\treturn row[filter.id] && row[filter.id].indexOf(\"dog\") !== -1;\n\t\t\t\t\t}\n\t\t\t\t\tif (filter.value.indexOf(\"cat\") !== -1) {\n\t\t\t\t\t\treturn row[filter.id] && row[filter.id].indexOf(\"cat\") !== -1;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tFilter: ({ filter, onChange }) =>\n\t\t\t\t\t<select\n\t\t\t\t\t\tonChange={event => onChange(event.target.value)}\n\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\tvalue={filter ? filter.value : \"all\"}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"all\">Show All</option>\n\t\t\t\t\t\t<option value=\"dog\">Dogs</option>\n\t\t\t\t\t\t<option value=\"cat\">Cats</option>\n\t\t\t\t\t</select>\n\t\t\t}]\n\t\t}\n\t}\n\n\taddFilterPlaceholder() {\n\t\tconst filters = document.querySelectorAll(\"div.rt-th > input\");\n\t\tfor (let filter of filters) {\n\t\t\tfilter.placeholder = \"Filter..\";\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.addFilterPlaceholder();\n\t}\n\n\ttoggleColumn(n) {\n\t\tconst cols = this.state.columns.map((col, i) => n===i? {...col, show: !col.show}: col)\n\t\tthis.setState({\n\t\t\tcolumns: cols\n\t\t})\n\t}\n\n\trender() {\n\t\tconst buttons = this.state.columns.map((el, i) => {\n\t\t\treturn (\n\t\t\t\t<label htmlFor={`id-${i}`} key={i}>\n\t\t\t\t\t<input id={`id-${i}`} type=\"checkbox\" defaultChecked onChange={() => this.toggleColumn(i)}/>\n\n\t\t\t\t\t<span>Show {el.Header}</span>\n\t\t\t\t</label>\n\t\t\t)\n\t\t})\n\n\t\tconst subComponent = row => {\n\t\t\treturn (\n\t\t\t\t<div className=\"subrow\">\n\t\t\t\t\t{row.original.overview}\n\t\t\t\t</div>\n\t\t\t);\n\t\t};\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"b-buttons\">\n\t\t\t\t\t{buttons}\n\t\t\t\t</div>\n\t\t\t\t<ReactTable\n\t\t\t\t\tshowPagination={true}\n\t\t\t\t\tdata={this.props.data}\n\t\t\t\t\tfilterable={true}\n\t\t\t\t\tcolumns={this.state.columns}\n\t\t\t\t\tSubComponent={subComponent}\n\t\t\t\t\tdefaultSorting={[{\n\t\t\t\t\t\tid: \"release_date\",\n\t\t\t\t\t\tdesc: true\n\t\t\t\t\t}]}\n\t\t\t\t/>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nexport default TableElement;\n\nTableElement.propTypes = {\n\tdata: PropTypes.array\n}","import React, { Component } from 'react';\nimport TableElement from \"scripts/blocks/TableElement\"\nimport PropTypes from 'prop-types';\n\nclass Data extends Component {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<main id=\"data\">\n\t\t\t\t<TableElement data={this.props.data}/>\n\t\t\t</main>\n\t\t)\n\t}\n}\n\nexport default Data;\n\nData.propTypes = {\n\tdata: PropTypes.array\n}","import React, { Component } from 'react';\nimport { Switch, Route } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\n\nimport Data from \"scripts/screens/Data\"\n\nclass Main extends Component {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"l-main\">\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\" render={(props) => <Data {...props} data={this.props.data} />} />\n\t\t\t\t\t<Route exact path=\"/genre/:genre\" render={(props) => <Data {...props} />} />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Main;\n\nMain.propTypes = {\n\tdata: PropTypes.array\n}","import React, { Component } from 'react';\n\nclass Menu extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"b-menu\">\n\t\t\t\t<h1>Cat & Dog movie database</h1>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Menu;","// Core\nimport React, { Component } from 'react';\nimport { HashRouter } from 'react-router-dom'\nimport PropTypes from 'prop-types';\n\nimport Main from 'scripts/partials/Main';\nimport Menu from 'scripts/partials/Menu';\nimport set from 'data/dataset.json';\n\nconst flatten = function(arr, result = []) {\n\tfor (let i = 0, length = arr.length; i < length; i++) {\n\t\tconst value = arr[i];\n\t\tif (Array.isArray(value)) {\n\t\t\tflatten(value, result);\n\t\t} else {\n\t\t\tresult.push(value);\n\t\t}\n\t}\n\treturn result;\n};\n\nclass App extends Component {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\trender() {\n\t\tconst data = flatten(set);\n\n\t\treturn (\n\t\t\t<div className=\"l-app\">\n\t\t\t\t<HashRouter>\n\t\t\t\t\t<div className=\"l-header\">\n\t\t\t\t\t\t<Menu />\n\t\t\t\t\t</div>\n\t\t\t\t\t<Main data={data}/>\n\t\t\t\t</HashRouter>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n\nApp.propTypes = {\n\tdata: PropTypes.array\n}","import 'react-app-polyfill/ie11';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'scripts/App';\nimport 'styles/main.scss';\n\nReactDOM.render(<App />, document.getElementById('app-container'));"],"sourceRoot":""}